<!DOCTYPE html>
<html>
<head>
    <title>Project: Selection Sort Visualizer</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='../../css/ka-projects.css' rel='stylesheet' type='text/css'>
    <script type="text/javascript" src="../../js/vendor/processing.min.js"></script>
</head>
<body>
<div class="container-khanacademy">
    <div class="container-text">
        <h2>Selection Sort Visualizer</h2>
        <p>The goal of this project was to create a program that visualizes
            the selection sort algorithm. Here, there are four different matrices
            aligned vertically. Each of them has lines that show the steps/swaps
            of this algorithm.</p>
    </div>
    <div class="container-program">
        <<canvas id="canvas"></canvas>
        <!-- Credits to Robert Tupelo-Schneck for this processingJS template -->
        <script>
            var canvas = document.getElementById("canvas");
            var processing = new Processing(canvas, function(processing) {
                processing.size(400, 400);
                processing.background(0xFFF);
                var mouseIsPressed = false;
                processing.mousePressed = function() {
                    mouseIsPressed = true;
                };
                processing.mouseReleased = function() {
                    mouseIsPressed = false;
                };
                var keyIsPressed = false;
                processing.keyPressed = function() {
                    keyIsPressed = true;
                };
                processing.keyReleased = function() {
                    keyIsPressed = false;
                };

                function getImage(s) {
                    var url = "https://www.kasandbox.org/programming-images/" + s + ".png";
                    processing.externals.sketch.imageCache.add(url);
                    return processing.loadImage(url);
                }
                // use degrees rather than radians in rotate function
                var rotateFn = processing.rotate;
                processing.rotate = function(angle) {
                    rotateFn(processing.radians(angle));
                };
                with(processing) {
                    // Set background color at the top so that
                    // it does not interfere with the text output
                    background(0);
                    // Number of pixels between each row of array sorts
                    var spaceBetween = 85;
                    var yPos = 0;
                    // Draw the lines separating the different arrays
                    for (var l = 0; l < (9 / 10) * width; l += 94) {
                        stroke(25,25,112);
                        line(l, 0, l, height);
                    }
                    /************************
                     * Visualize the array *
                     ************************/
                    var displayArray = function(array) {
                        textFont(createFont("monospace"), 12);
                        fill(135,206,250);
                    };

                    var swap = function(array, firstIndex, secondIndex) {
                        var temp = array[firstIndex];
                        array[firstIndex] = array[secondIndex];
                        array[secondIndex] = temp;
                    };

                    var indexOfMinimum = function(array, startIndex) {

                        var minValue = array[startIndex];
                        var minIndex = startIndex;

                        for (var i = minIndex + 1; i < array.length; i++) {
                            if (array[i] < minValue) {
                                minIndex = i;
                                minValue = array[i];
                            }
                        }
                        displayArray(array)
                        return minIndex;
                    };

                    var selectionSort = function(array) {
                        var pos = 0;
                        for (pos; pos < array.length; pos++) {
                            println("Looking at pos " + pos);
                            var mi = indexOfMinimum(array, pos);
                            println("Index of minimum at start " + pos + " is " + mi + " which is number " + array[mi]);
                            swap(array, pos, mi);
                            println("array after swap is: " + array);
                        }
                    };

                    var array = [2, 1];
                    array = selectionSort(array);

                    rect(100, 150, 200, 100);
                    line(100, 50, 300, 175);
                }
                if (typeof draw !== 'undefined') processing.draw = draw;
            });
        </script>
    </div>
</div>
</body>
</html>